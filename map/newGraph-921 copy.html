<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    html,
    body {
      margin: 0;
      height: 100%;
      width: 100%;
    }

    .legend {
      font-size: 12px;
      position: absolute;
      left: 50%;
      top: 20px;
      z-index: 999;
    }

    .legend span {
      background-color: #ccc;
      margin-left: 4px;
      padding: 5px;
      border-radius: 4px;
    }
  </style>
</head>

<body>
  <div class="legend" id="legend">
    关基行业过滤:
    <span>能源</span><span>交通</span><span>水利</span><span>医疗卫生</span><span>环境保护</span><span>工业制造</span><span>市政</span><span>广播电视</span><span>政府部门</span>
  </div>
  <div id="chart" class="chart" style="width:100%;height:100%"></div>
  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.js"></script>
  <script src="./echarts-full.min.js"></script>
  <script>
    var myChart = echarts.init(document.getElementById('chart'));
    var graph = {
      "nodes": [{
        "name": "河北",
        "value": [
          "石家庄"
        ],
        "category": "中心教师",
        "symbolSize": 50,
        'datas': ["石家庄"]
      },
      {
        "name": "220.220.0.1/8",
        "category": "1",
        "symbolSize": 20,
        'datas': ["关基资产报备", "河北大学:221,192,237.1/24", "石家庄银行:222.222.32.1/24", "IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      },
      {
        "name": "220.220.0.0/8",
        "category": "1",
        "symbolSize": 20,
        'datas': ["关基资产报备", "河北大学:221,192,237.1/24", "石家庄银行:222.222.32.1/24", "IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      },
      {
        "name": "220.220.0.8/8",
        "category": "1",
        "symbolSize": 20,
        'datas': ["关基资产报备", "河北大学:221,192,237.1/24", "石家庄银行:222.222.32.1/24", "IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      },
      {
        "name": "220.220.0.9/18",
        "category": "1",
        "symbolSize": 20,
        'datas': ["关基资产报备", "河北大学:221,192,237.1/24", "石家庄银行:222.222.32.1/24", "IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      },
      {
        "name": "220.220.0.10/18",
        "category": "2",
        "symbolSize": 20,
        'datas': ["关基资产报备", "河北大学:221,192,237.1/24", "石家庄银行:222.222.32.1/24", "IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      },
      {
        "name": "220.220.0.11/22",
        "category": "2",
        "symbolSize": 20,
        'datas': ["关基资产报备", "河北大学:221,192,237.1/24", "石家庄银行:222.222.32.1/24", "IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      },
      {
        "name": "220.220.0.22/19",
        "category": "2",
        "symbolSize": 20,
        'datas': ["关基资产报备", "河北大学:221,192,237.1/24", "石家庄银行:222.222.32.1/24", "IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      },
      {
        "name": "主机资产-22/19",
        "category": "3",
        "symbolSize": 20,
        "symbol": `image://${'assets/img/graph-host-icon.png'}`,
        'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      },
      {
        "name": "安全设备-22/19",
        "category": "3",
        "symbolSize": 20,
        "symbol": `image://${'assets/img/graph-safety-icon.png'}`,
        'datas': ["主机资产", "IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      },
      {
        "name": "网络设备-22/19",
        "category": "3",
        "symbolSize": 20,
        "symbol": `image://${'assets/img/graph-network-icon.png'}`,
        'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      }, {
        "name": "物联网设备-22/19",
        "category": "3",
        "symbolSize": 20,
        "symbol": `image://${'assets/img/graph-lot-icon.png'}`,
        'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      },
      {
        "name": "主机资产-0/8",
        "category": "3",
        "symbolSize": 20,
        "symbol": `image://${'assets/img/graph-host-icon.png'}`,
        'datas': ["主机资产", "IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      },
      {
        "name": "安全设备-0/8",
        "category": "3",
        "symbolSize": 20,
        "symbol": `image://${'assets/img/graph-safety-icon.png'}`,
        'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      },
      {
        "name": "网络设备-0/8",
        "category": "3",
        "symbolSize": 20,
        "symbol": `image://${'assets/img/graph-network-icon.png'}`,
        'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      }, {
        "name": "主机资产-11/22",
        "category": "3",
        "symbolSize": 20,
        "symbol": "image://http://thumb12.jfcdns.com/2018-06/bce5b231ad7df722.png",
        'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      },
      {
        "name": "安全设备-11/22",
        "category": "3",
        "symbolSize": 20,
        "symbol": "image://http://thumb12.jfcdns.com/2018-06/bce5b231ad7df722.png",
        'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      },
      {
        "name": "网络设备-11/22",
        "category": "3",
        "symbolSize": 20,
        "symbol": "image://http://thumb12.jfcdns.com/2018-06/bce5b231ad7df722.png",
        'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      }, {
        "name": "物联网设备-11/22",
        "category": "3",
        "symbolSize": 20,
        "symbol": "image://http://thumb12.jfcdns.com/2018-06/bce5b231ad7df722.png",
        'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      },
      {
        "name": "物联网设备-0/8",
        "category": "3",
        "symbolSize": 20,
        "symbol": `image://${'assets/img/graph-lot-icon.png'}`,
        'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      },
      {
        "name": "222.222.32.1/24-0/8",
        "category": "3",
        "symbolSize": 20,
        'datas': ["IP段", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      },
      {
        "name": "222.222.32.1/26-0/8",
        "category": "3",
        "symbolSize": 20,
        'datas': ["IP段", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      },
      {
        "name": "222.222.32.1/28-0/8",
        "category": "3",
        "symbolSize": 20,
        'datas': ["IP段", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      }, {
        "name": "222.222.32.1/29-0/8",
        "category": "3",
        "symbolSize": 20,
        'datas': ["IP段", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
      },
      {
        "name": "8080-0/8-主机资产-1/24",
        "category": "3",
        "symbolSize": 20,
        'datas': ["端口", "操作系统:Centos7.3", "中间件:Toncat1.1", "语言:Java", "应用:信用卡运营管理系统"]
      },
      {
        "name": "8000-0/8-主机资产-1/24",
        "category": "3",
        "symbolSize": 20,
        'datas': ["端口", "操作系统:Centos7.3", "中间件:Toncat1.1", "语言:Java", "应用:信用卡运营管理系统"]
      },
      {
        "name": "8008-0/8-主机资产-1/24",
        "category": "3",
        "symbolSize": 20,
        'datas': ["端口", "操作系统:Centos7.3", "中间件:Toncat1.1", "语言:Java", "应用:信用卡运营管理系统"]
      },
      {
        "name": "8090-0/8-主机资产-1/24",
        "category": "3",
        "symbolSize": 20,
        'datas': ["端口", "操作系统:Centos7.3", "中间件:Toncat1.1", "语言:Java", "应用:信用卡运营管理系统"]
      },
      ],
      "links": [
        {
          "source": "河北",
          "target": "220.220.0.0/8",
          "show": true
        },
        {
          "source": "河北",
          "target": "220.220.0.8/8",
        },
        {
          "source": "河北",
          "target": "220.220.0.9/18"
        },
        {
          "source": "河北",
          "target": "220.220.0.10/18"
        },
        {
          "source": "河北",
          "target": "220.220.0.11/22"
        },
        {
          "source": "河北",
          "target": "220.220.0.22/19"
        },
        {
          "source": "220.220.0.22/19",
          "target": "主机资产-22/19",
        },
        {
          "source": "220.220.0.22/19",
          "target": "安全设备-22/19",
        },
        {
          "source": "220.220.0.22/19",
          "target": "网络设备-22/19",
        },
        {
          "source": "220.220.0.22/19",
          "target": "物联网设备-22/19",
        },
        {
          "source": "220.220.0.0/8",
          "target": "主机资产-0/8",
        },
        {
          "source": "220.220.0.0/8",
          "target": "安全设备-0/8",
        },
        {
          "source": "220.220.0.0/8",
          "target": "网络设备-0/8",
        },
        {
          "source": "220.220.0.0/8",
          "target": "物联网设备-0/8",
        },
        {
          "source": "主机资产-0/8",
          "target": "222.222.32.1/24-0/8",
        },
        {
          "source": "主机资产-0/8",
          "target": "222.222.32.1/26-0/8",
        },
        {
          "source": "主机资产-0/8",
          "target": "222.222.32.1/28-0/8",
        },
        {
          "source": "主机资产-0/8",
          "target": "222.222.32.1/29-0/8",
        },
        {
          "source": "222.222.32.1/24-0/8",
          "target": "8080-0/8-主机资产-1/24",
        },
        {
          "source": "222.222.32.1/24-0/8",
          "target": "8000-0/8-主机资产-1/24",
        },
        {
          "source": "222.222.32.1/24-0/8",
          "target": "8008-0/8-主机资产-1/24",
        },
        {
          "source": "222.222.32.1/24-0/8",
          "target": "8090-0/8-主机资产-1/24",
        },
      ]
    };
    const defaultCategory = "中心教师";
    const graphTitle = "";
    let defaultName = ""
    const currentGraph = {
      nodes: {},
      links: {},
    };
    const nodeMap = {};
    // 页面加载时，第一次初始化图
    function init() {
      // 根据定义的常量，产生currentGraph的默认数据
      // 遍历全部nodes和links，产生node映射map
      for (let i = 0; i < graph.nodes.length; i++) {
        if (graph.nodes[i].category === defaultCategory) {
          currentGraph.nodes[graph.nodes[i].name] = graph.nodes[i];
          defaultName = graph.nodes[i].name
        }
        nodeMap[graph.nodes[i].name] = graph.nodes[i];
        nodeMap[graph.nodes[i].name]['links'] = {};
        nodeMap[graph.nodes[i].name]['nodes'] = {};
        nodeMap[graph.nodes[i].name]['hasAppend'] = false;
      }
      for (let i = 0; i < graph.links.length; i++) {
        let link = graph.links[i];
        if (nodeMap[link.source] !== undefined && nodeMap[link.target] !== undefined) {
          nodeMap[link.source].links[link.target] = link;
          nodeMap[link.source].nodes[nodeMap[link.target].name] = nodeMap[link.target];
        }
      }

      for (let i = 0; i < graph.nodes.length; i++) {
        graph.nodes[i].itemStyle = null;
        graph.nodes[i].label = {
          normal: {
            show: graph.nodes[i].symbolSize > 15
          }
        };
      }
      redrawGraph();
      showFirstOne()
    }
    // 处理点击节点展开
    function append(nodeName) {
      // 根据nodeName从nodeMap里拿出对应的nodes和links，并append到currentGraph.nodes currentGraph.links
      let node = nodeMap[nodeName];
      if (node.hasAppend === true || Object.keys(node.nodes).length === 0 || Object.keys(node.links).length === 0) {
        // alert("无法继续展开");
        console.log("无法继续展开")
        return
      }

      Object.keys(node.nodes).map(e => {
        currentGraph.nodes[node.nodes[e].name] = node.nodes[e];
      })

      Object.keys(node.links).map(e => {
        currentGraph.links[node.links[e].source + "" + node.links[e].target] = node.links[e];
      })

      node.hasAppend = true;
      redrawGraph();
    }
    // 处理点击节点收缩
    function remove(nodeName) {
      //根据nodeName从nodeMap里拿出对应的nodes和links，从currentGraph.nodes currentGraph.links删除当前节点的nodes和links并且递归
      let node = nodeMap[nodeName];

      Object.keys(node.nodes).map(e => {
        delete currentGraph.nodes[node.nodes[e].name];
        if (node.nodes[e].hasAppend === true && Object.keys(node.nodes[e]).length > 0) {
          remove(node.nodes[e].name);
        }
      })
      Object.keys(node.links).map(e => {
        delete currentGraph.links[node.links[e].source + '_' + node.links[e].target];
      })
      // 设置flag 等于false
      node.hasAppend = false;

      redrawGraph();
    }
    // 根据更新后的option重新画图
    function redrawGraph() {
      option.series[0].data = Object.values(currentGraph.nodes);
      option.series[0].links = Object.values(currentGraph.links);
      // console.log(option);
      myChart.setOption(option);
    }
    const option = {
      // backgroundColor: '#000',
      title: {
        text: graphTitle,
        top: 'top',
        left: 'center',
      },
      tooltip: {},
      legend: [],

      animation: false,
      series: [{
        type: 'graph',
        layout: 'force',
        data: Object.values(currentGraph.nodes),
        links: Object.values(currentGraph.links),
        roam: true,
        focusNodeAdjacency: true,
        itemStyle: {
          normal: {
            // borderColor: '#fff',
            color: '#0a3a87',
            borderWidth: 1,
            shadowBlur: 10,
            shadowColor: 'rgba(0, 0, 0, 0.3)'
          },
          emphasis: {//高亮状态
            color: '#35afd8',
          }
        },
        label: {
          normal: {
            show: false,//是否显示标签。
            position: 'bottom',//标签的位置。['50%', '50%'] [x,y]   'inside'
            textStyle: { //标签的字体样式
              // color: '#2D2F3B', //字体颜色
              color: '#0a3a87', //字体颜色
              fontStyle: 'normal',//文字字体的风格 'normal'标准 'italic'斜体 'oblique' 倾斜
              fontWeight: 'bolder',//'normal'标准'bold'粗的'bolder'更粗的'lighter'更细的或100 | 200 | 300 | 400...
              fontFamily: 'sans-serif', //文字的字体系列
              fontSize: 12, //字体大小
            },
            formatter: function (params) {
              return params.name.split('-')[0]
            },
          },
          emphasis: {//高亮状态
            textStyle: { //标签的字体样式
              // color: '#2D2F3B', //字体颜色
              color: '#35afd8', //字体颜色
            }
          },
          normal: {
            show: false,//是否显示标签。
            position: 'bottom',//标签的位置。['50%', '50%'] [x,y]   'inside'
            textStyle: { //标签的字体样式
              // color: '#2D2F3B', //字体颜色
              color: '#0a3a87', //字体颜色
              fontStyle: 'normal',//文字字体的风格 'normal'标准 'italic'斜体 'oblique' 倾斜
              fontWeight: 'bolder',//'normal'标准'bold'粗的'bolder'更粗的'lighter'更细的或100 | 200 | 300 | 400...
              fontFamily: 'sans-serif', //文字的字体系列
              fontSize: 12, //字体大小
            },
            formatter: function (params) {
              return params.name.split('-')[0]
            },
          },
          emphasis: {//高亮状态
            textStyle: { //标签的字体样式
              // color: '#2D2F3B', //字体颜色
              color: '#35afd8', //字体颜色
            }
          }
        },
        lineStyle: {
          color: '#0a3a87',
          opacity: 1,
          curveness: 0
        },
        emphasis: {
          lineStyle: {
            width: 2,
            color: '#35afd8',
          }
        },
        force: {
          layoutAnimation: true,
          repulsion: 600,
        },
        draggable: true,
        expandAndCollapse: true,
      }]
    };
    init();
    myChart.on('click', function (params) {
      if (params.dataType === "node") {
        const node = nodeMap[params.data.name];
        if (node.hasAppend === true) {
          remove(node.name)
        } else {
          append(node.name);
        }
      }
    });
    // myChart.on('mouseup', function (params) {
    //   var option = myChart.getOption();
    //   option.series[0].data[params.dataIndex].x = params.event.offsetX;
    //   option.series[0].data[params.dataIndex].y = params.event.offsetY;
    //   console.log(option.series[0].data[params.dataIndex].x, option.series[0].data[params.dataIndex].y)

    //   option.series[0].data = Object.values(currentGraph.nodes);
    //   option.series[0].links = Object.values(currentGraph.links);

    //   option.series[0].data[params.dataIndex].fixed = true;
    //   myChart.setOption(option);
    // });

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option, true);
    window.addEventListener("resize", function () {
      setTimeout(() => {
        myChart.resize();
      }, 1000)
    });
    function showFirstOne() {
      setTimeout(() => {
        append(defaultName)
      }, 100)
    }
    var that = this
    $('#legend').on('click', function () {
      // console.log(JSON.stringify(graph))
 

      for (let key in that.graph) {
        delete that.graph[key];
      }
      console.log(graph)
      
      // redrawGraph()
      that.graph ={ "nodes": [{
      "name": "河北",
      "value": [
        "石家庄"
      ],
      "category": "中心教师",
      "symbolSize": 50,
      'datas': ["石家庄"]
    },
    // {
    //   "name": "220.220.0.1/8",
    //   "category": "1",
    //   "symbolSize": 20,
    //   'datas': ["关基资产报备", "河北大学:221,192,237.1/24", "石家庄银行:222.222.32.1/24", "IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    // },
    {
      "name": "220.220.0.0/8",
      "category": "1",
      "symbolSize": 20,
      'datas': ["关基资产报备", "河北大学:221,192,237.1/24", "石家庄银行:222.222.32.1/24", "IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    },
    // {
    //   "name": "220.220.0.8/8",
    //   "category": "1",
    //   "symbolSize": 20,
    //   'datas': ["关基资产报备", "河北大学:221,192,237.1/24", "石家庄银行:222.222.32.1/24", "IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    // },
    // {
    //   "name": "220.220.0.9/18",
    //   "category": "1",
    //   "symbolSize": 20,
    //   'datas': ["关基资产报备", "河北大学:221,192,237.1/24", "石家庄银行:222.222.32.1/24", "IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    // },
    {
      "name": "220.220.0.10/18",
      "category": "2",
      "symbolSize": 20,
      'datas': ["关基资产报备", "河北大学:221,192,237.1/24", "石家庄银行:222.222.32.1/24", "IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    },
    {
      "name": "220.220.0.11/22",
      "category": "2",
      "symbolSize": 20,
      'datas': ["关基资产报备", "河北大学:221,192,237.1/24", "石家庄银行:222.222.32.1/24", "IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    },
    {
      "name": "220.220.0.22/19",
      "category": "2",
      "symbolSize": 20,
      'datas': ["关基资产报备", "河北大学:221,192,237.1/24", "石家庄银行:222.222.32.1/24", "IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    },
    {
      "name": "主机资产-22/19",
      "category": "3",
      "symbolSize": 20,
      "symbol": `image://${'assets/img/graph-host-icon.png'}`,
      'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    },
    {
      "name": "安全设备-22/19",
      "category": "3",
      "symbolSize": 20,
      "symbol": `image://${'assets/img/graph-safety-icon.png'}`,
      'datas': ["主机资产", "IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    },
    {
      "name": "网络设备-22/19",
      "category": "3",
      "symbolSize": 20,
      "symbol": `image://${'assets/img/graph-network-icon.png'}`,
      'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    }, {
      "name": "物联网设备-22/19",
      "category": "3",
      "symbolSize": 20,
      "symbol": `image://${'assets/img/graph-lot-icon.png'}`,
      'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    },
    {
      "name": "主机资产-0/8",
      "category": "3",
      "symbolSize": 20,
      "symbol": `image://${'assets/img/graph-host-icon.png'}`,
      'datas': ["主机资产", "IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    },
    {
      "name": "安全设备-0/8",
      "category": "3",
      "symbolSize": 20,
      "symbol": `image://${'assets/img/graph-safety-icon.png'}`,
      'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    },
    {
      "name": "网络设备-0/8",
      "category": "3",
      "symbolSize": 20,
      "symbol": `image://${'assets/img/graph-network-icon.png'}`,
      'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    }, {
      "name": "主机资产-11/22",
      "category": "3",
      "symbolSize": 20,
      "symbol": "image://http://thumb12.jfcdns.com/2018-06/bce5b231ad7df722.png",
      'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    },
    {
      "name": "安全设备-11/22",
      "category": "3",
      "symbolSize": 20,
      "symbol": "image://http://thumb12.jfcdns.com/2018-06/bce5b231ad7df722.png",
      'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    },
    {
      "name": "网络设备-11/22",
      "category": "3",
      "symbolSize": 20,
      "symbol": "image://http://thumb12.jfcdns.com/2018-06/bce5b231ad7df722.png",
      'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    }, {
      "name": "物联网设备-11/22",
      "category": "3",
      "symbolSize": 20,
      "symbol": "image://http://thumb12.jfcdns.com/2018-06/bce5b231ad7df722.png",
      'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    },
    {
      "name": "物联网设备-0/8",
      "category": "3",
      "symbolSize": 20,
      "symbol": `image://${'assets/img/graph-lot-icon.png'}`,
      'datas': ["IP:总量:506", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    },
    {
      "name": "222.222.32.1/24-0/8",
      "category": "3",
      "symbolSize": 20,
      'datas': ["IP段", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    },
    {
      "name": "222.222.32.1/26-0/8",
      "category": "3",
      "symbolSize": 20,
      'datas': ["IP段", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    },
    {
      "name": "222.222.32.1/28-0/8",
      "category": "3",
      "symbolSize": 20,
      'datas': ["IP段", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    }, {
      "name": "222.222.32.1/29-0/8",
      "category": "3",
      "symbolSize": 20,
      'datas': ["IP段", "IP存活数量:359", "端口存活数量:1456", "高危端口:131"]
    },
    {
      "name": "8080-0/8-主机资产-1/24",
      "category": "3",
      "symbolSize": 20,
      'datas': ["端口", "操作系统:Centos7.3", "中间件:Toncat1.1", "语言:Java", "应用:信用卡运营管理系统"]
    },
    {
      "name": "8000-0/8-主机资产-1/24",
      "category": "3",
      "symbolSize": 20,
      'datas': ["端口", "操作系统:Centos7.3", "中间件:Toncat1.1", "语言:Java", "应用:信用卡运营管理系统"]
    },
    {
      "name": "8008-0/8-主机资产-1/24",
      "category": "3",
      "symbolSize": 20,
      'datas': ["端口", "操作系统:Centos7.3", "中间件:Toncat1.1", "语言:Java", "应用:信用卡运营管理系统"]
    },
    {
      "name": "8090-0/8-主机资产-1/24",
      "category": "3",
      "symbolSize": 20,
      'datas': ["端口", "操作系统:Centos7.3", "中间件:Toncat1.1", "语言:Java", "应用:信用卡运营管理系统"]
    },
    ],
    "links": [
      {
        "source": "河北",
        "target": "220.220.0.0/8",
        "show": true
      },
      {
        "source": "河北",
        "target": "220.220.0.8/8",
      },
      {
        "source": "河北",
        "target": "220.220.0.9/18"
      },
      {
        "source": "河北",
        "target": "220.220.0.10/18"
      },
      {
        "source": "河北",
        "target": "220.220.0.11/22"
      },
      {
        "source": "河北",
        "target": "220.220.0.22/19"
      },
      {
        "source": "220.220.0.22/19",
        "target": "主机资产-22/19",
      },
      {
        "source": "220.220.0.22/19",
        "target": "安全设备-22/19",
      },
      {
        "source": "220.220.0.22/19",
        "target": "网络设备-22/19",
      },
      {
        "source": "220.220.0.22/19",
        "target": "物联网设备-22/19",
      },
      {
        "source": "220.220.0.0/8",
        "target": "主机资产-0/8",
      },
      {
        "source": "220.220.0.0/8",
        "target": "安全设备-0/8",
      },
      {
        "source": "220.220.0.0/8",
        "target": "网络设备-0/8",
      },
      {
        "source": "220.220.0.0/8",
        "target": "物联网设备-0/8",
      },
      {
        "source": "主机资产-0/8",
        "target": "222.222.32.1/24-0/8",
      },
      {
        "source": "主机资产-0/8",
        "target": "222.222.32.1/26-0/8",
      },
      {
        "source": "主机资产-0/8",
        "target": "222.222.32.1/28-0/8",
      },
      {
        "source": "主机资产-0/8",
        "target": "222.222.32.1/29-0/8",
      },
      {
        "source": "222.222.32.1/24-0/8",
        "target": "8080-0/8-主机资产-1/24",
      },
      {
        "source": "222.222.32.1/24-0/8",
        "target": "8000-0/8-主机资产-1/24",
      },
      {
        "source": "222.222.32.1/24-0/8",
        "target": "8008-0/8-主机资产-1/24",
      },
      {
        "source": "222.222.32.1/24-0/8",
        "target": "8090-0/8-主机资产-1/24",
      },
    ]}
    console.log(that)
    that.currentGraph = {
      nodes: {},
      links: {},
    }
  that.init()
    })

  </script>
</body>

</html>